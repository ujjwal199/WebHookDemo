<template>
    <div data-close=false onclick={handleCloseDivChild} style="width: 50%;" class="inputbox-width">    
        <div class="slds-form-element">
            <div class="slds-form-element__control">
                <div class="slds-combobox_container">
                    <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open" aria-expanded="true" aria-haspopup="listbox" role="combobox" style="float: left;">
                        <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-has-focus" role="none">
                            
                            <lightning-input id="input" value={searchInput} onchange={onchangeSearchInput} variant="label-hidden" aria-autocomplete="list" role="textbox"
                            autocomplete="off" placeholder="Search - Minimum 3 Characters ..." type="search">
                        </lightning-input>
                        <!-- Extra code added for display title name on every list selected in each stage -->
                        <!-- Account Label -->
                        <template if:true={globalSelectedItemsisnull}>
                        <div if:true={acctlabelname}>
                            <div class="slds-card__header slds-grid"><header class="slds-media slds-media_center slds-has-flexi-truncate"><div class="slds-media__body"><h2 class="slds-card__header-title listtitle" aria-level="2"><span class="slds-text-heading_small slds-truncate"><slot name="title">Selected Accounts:<h3 slot="title"></h3></slot></span></h2></div><div class="slds-no-flex"><slot name="actions"></slot></div></header></div>
                        </div>
                        <!-- Opportunity Label -->
                        <div if:true={OpportunityLabelName}>
                            <div class="slds-card__header slds-grid"><header class="slds-media slds-media_center slds-has-flexi-truncate"><div class="slds-media__body"><h2 class="slds-card__header-title listtitle" aria-level="2"><span class="slds-text-heading_small slds-truncate"><slot name="title1">Selected Opportunities:<h3 slot="title"></h3></slot></span></h2></div><div class="slds-no-flex"><slot name="actions1"></slot></div></header></div>
                        </div>
                        <!-- Contact Label -->
                        <div if:true={ContactLabelName}>
                            <div class="slds-card__header slds-grid"><header class="slds-media slds-media_center slds-has-flexi-truncate"><div class="slds-media__body"><h2 class="slds-card__header-title listtitle" aria-level="2"><span class="slds-text-heading_small slds-truncate"><slot name="title2">Selected Contacts:<h3 slot="title"></h3></slot></span></h2></div><div class="slds-no-flex"><slot name="actions2"></slot></div></header></div>
                        </div>
                        <!-- Campaign Label -->
                        <div if:true={CampaignLabelName}>
                            <div class="slds-card__header slds-grid"><header class="slds-media slds-media_center slds-has-flexi-truncate"><div class="slds-media__body"><h2 class="slds-card__header-title listtitle" aria-level="2"><span class="slds-text-heading_small slds-truncate"><slot name="title3">Selected Campaigns:<h3 slot="title"></h3></slot></span></h2></div><div class="slds-no-flex"><slot name="actions3"></slot></div></header></div>
                        </div>
                        </template>
                        <!-- extra code ends here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <template if:false={isDisplayMessage}>
        <template if:true={isDialogDisplay}>
            
            
            <section aria-describedby="dialog-body-id-26" style="width: 100%;" aria-label="Language Options" class={setlookupHeight} id="popover-unique-id-02" role="dialog" >
                <div class="slds-popover__body slds-popover__body_small" id="dialog-body-id-new" onmouseleave={handleDoneClick} >
                    <fieldset class="slds-form-element">   
                        <lightning-checkbox-group name="Checkbox Group"
                        id="checkboxGroup"
                        label={objectAPIName}
                        options={items}
                        value={value}
                        onchange={handleCheckboxChange}
                        >
                    </lightning-checkbox-group>
                </fieldset>
            </div>
            <!--
                <footer class="slds-popover__footer slds-popover__footer_form">
                    <lightning-button label="Cancel" title="Cancel" 
                    onclick={handleCancelClick} class="slds-m-left_x-small"></lightning-button>
                    <lightning-button variant="brand" label="Done" title="Done"
                    onclick={handleDoneClick} class="slds-m-left_x-small"></lightning-button>                                
                </footer>-->
            </section>                                               
            
            
        </template>
    </template>
    <template if:true={isDisplayMessage}>
        <lightning-card class="norecordfound">No records found.</lightning-card>
    </template>
    <template if:true={globalSelectedItemsisnull}>
    <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon slds-input-has-icon_left-right" role="none">
        <template for:each={globalSelectedItems} for:item="selectedItem">
            <span key={selectedItem.value}>
                
                <lightning-pill label={selectedItem.label} name={selectedItem.value} data-item={selectedItem.value}
                onremove={handleRemoveRecord}>
                <lightning-icon icon-name={iconName} variant="circle" 
                alternative-text={selectedItem.label}></lightning-icon>
            </lightning-pill><br/>
            
        </span>
    </template>
</div>
</template>
<template if:true={recordname}>
    <div >
        <p class="defaultaccount">Default Account</p>
    </div>
    <div class="pills-container-custom">
        <lightning-pill label={recordname} name={recid} >
            <lightning-icon icon-name={iconName} variant="circle" 
            alternative-text={recordname}></lightning-icon>
        </lightning-pill>
    </div>
</template>

</div>

</template>



<!--
    <template>
        <lightning-record-edit-form object-api-name={childObjectApiName}>
            <label for="fieldid">{fieldLabel}</label>
            <lightning-input-field id="fieldid" required={required} variant="label-hidden" field-name={targetFieldApiName}
            value={value} onchange={handleChange} disabled={disabled}>
        </lightning-input-field>
    </lightning-record-edit-form>
</template>-->